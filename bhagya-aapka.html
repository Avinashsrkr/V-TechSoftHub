<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bhagya Aapka | Authentic Vedic Astrology</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Yatra+One&family=Gotu&family=Cinzel:wght@400;700&family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        /* --- DYNAMIC THEME --- */
        :root {
            --bg-dark: #050200;
            --primary: #FF9933; 
            --secondary: #FFD700;    
            --text-light: #fff5e6;
            --card-bg: rgba(20, 10, 5, 0.95);
            --font-main: 'Yatra One', cursive; 
            --font-body: 'Gotu', sans-serif;   
        }

        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }
        
        body { 
            background-color: var(--bg-dark); 
            color: var(--text-light); 
            font-family: var(--font-body);
            overflow-x: hidden;
            transition: background 1.5s ease;
        }

        /* --- BG ANIMATION --- */
        .wave-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            pointer-events: none; opacity: 0.2;
        }
        .float-symbol {
            position: absolute; color: var(--secondary); font-size: 2rem;
            animation: float 15s infinite linear;
        }
        @keyframes float { 0% { transform: translateY(100vh) rotate(0deg); } 100% { transform: translateY(-10vh) rotate(360deg); } }

        /* --- NAV & MARQUEE --- */
        nav {
            padding: 10px 5%; display: flex; justify-content: space-between; align-items: center;
            background: #000; position: fixed; width: 100%; top: 0; z-index: 1000;
            border-bottom: 2px solid var(--primary);
        }
        .logo-group { display: flex; align-items: center; gap: 10px; }
        .logo-img { width: 45px; height: 45px; border-radius: 50%; border: 2px dashed var(--primary); animation: spin 10s linear infinite; }
        .logo-text { font-family: var(--font-main); font-size: 1.5rem; color: var(--secondary); }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        .marquee-container {
            position: fixed; top: 70px; width: 100%; background: #220a00;
            border-bottom: 1px solid var(--secondary); z-index: 900;
            padding: 8px 0; color: var(--secondary); font-family: var(--font-main);
            overflow: hidden; white-space: nowrap;
        }
        .marquee-text { display: inline-block; padding-left: 100%; animation: scroll 40s linear infinite; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* --- HERO FORM --- */
        .hero-section { margin-top: 160px; padding: 20px; text-align: center; min-height: 85vh; }
        
        .accuracy-badge {
            background: rgba(255, 215, 0, 0.1); border: 1px solid var(--secondary);
            padding: 5px 15px; border-radius: 20px; color: var(--secondary);
            font-family: var(--font-body); display: inline-block; margin-bottom: 15px;
        }

        .form-box {
            background: rgba(0,0,0,0.85); border: 2px solid var(--secondary);
            padding: 30px; border-radius: 15px; max-width: 650px; margin: 0 auto;
            box-shadow: 0 0 30px rgba(255, 153, 51, 0.2); position: relative;
        }
        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .input-field {
            width: 100%; padding: 12px; background: #1a0500; border: 1px solid #555;
            color: var(--secondary); font-family: var(--font-body); outline: none;
        }
        
        .city-results {
            position: absolute; background: #111; width: 100%; max-height: 200px;
            overflow-y: auto; z-index: 10; border: 1px solid var(--primary); display: none; text-align: left;
        }
        .city-item { padding: 10px; cursor: pointer; border-bottom: 1px solid #333; color: #ccc; }
        .city-item:hover { background: var(--primary); color: #000; }

        .btn-generate {
            width: 100%; padding: 15px; background: linear-gradient(45deg, var(--primary), var(--secondary));
            border: none; font-family: var(--font-main); font-size: 1.3rem; cursor: pointer; margin-top: 20px;
            color: #000; font-weight: bold; clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
        }
        .btn-generate:hover { transform: scale(1.02); box-shadow: 0 0 20px var(--primary); }

        /* --- DASHBOARD --- */
        .dashboard { display: none; animation: fadeIn 1s; padding-bottom: 50px; }
        @keyframes fadeIn { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }

        .user-header {
            text-align: center; padding: 30px; background: rgba(255,255,255,0.05);
            border-bottom: 2px solid var(--primary); margin-bottom: 30px;
        }

        .panchang-horoscope-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;
            padding: 0 5%; margin-bottom: 40px;
        }
        .info-card {
            background: var(--card-bg); border: 1px solid var(--primary); padding: 20px;
            border-radius: 10px; text-align: left; position: relative;
        }
        .info-card h3 { color: var(--secondary); border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 10px; font-family: var(--font-main); }
        
        .chart-box { width: 280px; height: 280px; border: 1px solid var(--primary); margin: 0 auto; background: #000; }
        .chart-svg { width: 100%; height: 100%; stroke: var(--primary); stroke-width: 1.2; }
        
        /* --- MODULES GRID --- */
        .modules-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px;
            padding: 0 5%; opacity: 0.4; pointer-events: none; transition: 0.5s;
        }
        .module-card {
            background: rgba(20, 10, 0, 0.8); border: 1px solid #444; padding: 25px;
            text-align: center; border-radius: 12px; cursor: pointer; transition: 0.3s;
        }
        .module-card:hover { border-color: var(--secondary); transform: translateY(-5px); box-shadow: 0 0 15px var(--primary); }
        .module-icon { font-size: 2.5rem; margin-bottom: 10px; display: block; }
        .module-title { font-family: var(--font-main); font-size: 1.2rem; color: var(--secondary); }

        /* --- VIDEO BLANK --- */
        .video-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; padding: 40px 5%; }
        .video-blank {
            height: 200px; background: #111; border: 1px dashed #555;
            display: flex; justify-content: center; align-items: center; color: #555;
            border-radius: 10px; flex-direction: column;
        }

        /* --- AI CHAT SYSTEM (NEW) --- */
        .chat-float {
            position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px;
            background: var(--secondary); border-radius: 50%; display: flex;
            justify-content: center; align-items: center; font-size: 30px;
            cursor: pointer; box-shadow: 0 0 20px var(--primary); z-index: 2000;
            animation: bounce 2s infinite; color: black; border: 2px solid #fff;
        }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        .chat-window {
            position: fixed; bottom: 100px; right: 30px; width: 350px; height: 500px;
            background: #0f0500; border: 2px solid var(--secondary); border-radius: 15px;
            z-index: 2000; display: none; flex-direction: column; overflow: hidden;
            box-shadow: 0 0 50px rgba(0,0,0,0.9);
        }
        .chat-header {
            background: linear-gradient(45deg, var(--primary), #000); padding: 15px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--secondary);
        }
        .chat-timer { font-family: var(--font-tech); color: #fff; font-weight: bold; background: red; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; }
        .chat-body { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .msg { padding: 10px; border-radius: 8px; max-width: 80%; font-size: 0.9rem; }
        .bot-msg { background: rgba(255, 153, 51, 0.2); color: var(--secondary); align-self: flex-start; border: 1px solid var(--primary); }
        .user-msg { background: #333; color: white; align-self: flex-end; }
        
        .chat-footer { padding: 10px; background: #111; display: flex; gap: 5px; }
        .chat-input { flex: 1; padding: 10px; background: #222; border: 1px solid #444; color: white; border-radius: 5px; outline: none; }
        .chat-send { background: var(--secondary); border: none; padding: 0 15px; cursor: pointer; font-weight: bold; border-radius: 5px; }

        /* LOCKED STATE (UPSHELL) */
        .chat-locked {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); display: none; flex-direction: column;
            align-items: center; justify-content: center; text-align: center; padding: 20px;
        }
        .guru-upsell-card {
            background: #220a00; border: 1px solid var(--gold); padding: 15px;
            margin-top: 15px; width: 100%; border-radius: 8px; cursor: pointer;
        }
        .guru-upsell-card:hover { background: var(--primary); color: black; }

        /* --- REGISTRATION FORM --- */
        .reg-section {
            background: linear-gradient(to right, #1a0500, #2e0e00);
            padding: 50px 20px; margin-top: 50px; border-top: 2px solid var(--secondary);
            text-align: center;
        }
        .reg-form { max-width: 600px; margin: 20px auto; display: grid; gap: 10px; }

        /* --- FOOTER --- */
        footer { background: #000; padding: 30px; text-align: center; border-top: 1px solid #333; color: #666; }

        @media(max-width: 768px) { .input-grid { grid-template-columns: 1fr; } .chat-window { width: 90%; right: 5%; bottom: 90px; } }
    </style>
</head>
<body onload="updatePanchang()">

    <div class="wave-bg" id="waveContainer"></div>
    
    <div class="chat-float" onclick="toggleChat()">ü§ñ</div>

    <div class="chat-window" id="aiChatBox">
        <div class="chat-header">
            <span style="color:var(--secondary); font-family:var(--font-main);">AI ‡§µ‡•á‡§¶ (Veda)</span>
            <span id="chatTimer" class="chat-timer">50s</span>
            <span onclick="toggleChat()" style="cursor:pointer; color:#fff;">√ó</span>
        </div>
        <div class="chat-body" id="chatBody">
            <div class="msg bot-msg">‡§π‡§∞‡§ø ‡•ê! ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡§æ AI ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑ ‡§Æ‡§ø‡§§‡•ç‡§∞ ‡§π‡•Ç‡§Å‡•§ ‡§Ü‡§™ ‡§Æ‡•Å‡§ù‡§∏‡•á ‡§ï‡•ã‡§à ‡§è‡§ï ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§™‡•Ç‡§õ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç (‡§µ‡§ø‡§µ‡§æ‡§π, ‡§ß‡§®, ‡§ï‡§∞‡§ø‡§Ø‡§∞)‡•§ ‡§∏‡§Æ‡§Ø ‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§π‡•à‡•§</div>
        </div>
        <div class="chat-footer" id="chatInputArea">
            <input type="text" id="userMsg" class="chat-input" placeholder="Ask here...">
            <button class="chat-send" onclick="sendMessage()">‚û§</button>
        </div>

        <div class="chat-locked" id="chatLockedOverlay">
            <div style="font-size:3rem;">üîí</div>
            <h3 style="color:var(--secondary); font-family:var(--font-main);">Free Session Ended</h3>
            <p style="color:#ccc; font-size:0.9rem;">‡§ó‡§π‡§® ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡§Æ‡§æ‡§∞‡•á ‡§∏‡§ø‡§¶‡•ç‡§ß ‡§ó‡•Å‡§∞‡•Å‡§ì‡§Ç ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç:</p>
            
            <div class="guru-upsell-card">
                <div style="font-weight:bold; color:var(--secondary);">‡§Ü‡§ö‡§æ‡§∞‡•ç‡§Ø ‡§â‡§ú‡•ç‡§ú‡•ç‡§µ‡§≤ ‡§§‡§ø‡§µ‡§æ‡§∞‡•Ä</div>
                <div style="font-size:0.8rem; color:#ccc;">‡§µ‡•à‡§¶‡§ø‡§ï ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û | ‡§ï‡§æ‡§∂‡•Ä</div>
                <div style="background:#fff; color:#000; display:inline-block; padding:2px 8px; border-radius:4px; margin-top:5px; font-weight:bold;">‚Çπ 501 / 15 min</div>
            </div>

            <div class="guru-upsell-card">
                <div style="font-weight:bold; color:var(--secondary);">‡§°‡•â. ‡§è. ‡§ï‡•á. ‡§Æ‡§ø‡§∂‡•ç‡§∞‡§æ</div>
                <div style="font-size:0.8rem; color:#ccc;">‡§®‡§æ‡§°‡§º‡•Ä ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑ | 22 ‡§µ‡§∞‡•ç‡§∑ ‡§Ö‡§®‡•Å‡§≠‡§µ</div>
                <div style="background:#fff; color:#000; display:inline-block; padding:2px 8px; border-radius:4px; margin-top:5px; font-weight:bold;">‚Çπ 1100 / 30 min</div>
            </div>
        </div>
    </div>

    <nav>
        <div class="logo-group">
            <img src="logo.png" class="logo-img">
            <span class="logo-text">‡§≠‡§æ‡§ó‡•ç‡§Ø ‡§Ü‡§™‡§ï‡§æ</span>
        </div>
        <div id="google_translate_element"></div>
    </nav>

    <div class="marquee-container">
        <div class="marquee-text" id="liveMarquee">Loading...</div>
    </div>

    <section class="hero-section">
        <div class="accuracy-badge">‚òÖ ‡§¨‡•É‡§π‡§§‡•ç‡§∏‡§Ç‡§π‡§ø‡§§‡§æ ‡§î‡§∞ ‡§π‡•ã‡§∞‡§æ ‡§∂‡§§‡§ï ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ (99.99% Accuracy) ‚òÖ</div>
        <h1 style="font-family: var(--font-main); font-size: 3.5rem; color: var(--secondary); margin-bottom: 20px;">‡§µ‡•à‡§¶‡§ø‡§ï ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑ ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®</h1>
        
        <div class="form-box" id="mainForm">
            <h3 style="color:var(--primary); font-family:var(--font-main); margin-bottom: 20px;">‡§®‡§ø‡§É‡§∂‡•Å‡§≤‡•ç‡§ï ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£</h3>
            <div class="input-grid">
                <input type="text" id="name" class="input-field" placeholder="‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ (Full Name)">
                <div style="position:relative;">
                    <input type="text" id="cityInput" class="input-field" placeholder="‡§ú‡§®‡•ç‡§Æ ‡§∏‡•ç‡§•‡§æ‡§®/‡§ó‡§æ‡§Å‡§µ (City/Village)" onkeyup="searchCity()">
                    <div class="city-results" id="cityList"></div>
                </div>
                <input type="date" id="dob" class="input-field">
                <input type="time" id="tob" class="input-field">
            </div>
            <button class="btn-generate" onclick="generateReport()">‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä ‡§¨‡§®‡§æ‡§è‡§Å (GENERATE)</button>
        </div>
    </section>

    <div class="dashboard" id="dashboardArea">
        <div class="user-header">
            <h2 id="userNameDisplay" style="color:var(--secondary); font-family:var(--font-main);">‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§ú‡§æ‡§§‡§ï</h2>
            <p id="rashiDisplay" style="color:var(--primary); font-size:1.2rem;">‡§∞‡§æ‡§∂‡§ø: --</p>
            <p class="source-cite">Calculation Engine: Brihat Samhita Algorithms</p>
        </div>

        <div class="panchang-horoscope-grid">
            <div class="info-card" style="text-align:center;">
                <h3>‡§≤‡§ó‡•ç‡§® ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä (D1 Chart)</h3>
                <div class="chart-box">
                    <svg class="chart-svg" viewBox="0 0 100 100">
                        <rect x="0" y="0" width="100" height="100" fill="none"/>
                        <line x1="0" y1="0" x2="100" y2="100" /><line x1="100" y1="0" x2="0" y2="100" />
                        <line x1="50" y1="0" x2="0" y2="50" /><line x1="50" y1="0" x2="100" y2="50" />
                        <line x1="0" y1="50" x2="50" y2="100" /><line x1="100" y1="50" x2="50" y2="100" />
                        <text x="50" y="25" fill="var(--secondary)" font-size="0.6rem" text-anchor="middle">‡§∏‡•Ç‡§∞‡•ç‡§Ø</text>
                        <text x="25" y="45" fill="var(--secondary)" font-size="0.6rem" text-anchor="middle">‡§ö‡§®‡•ç‡§¶‡•ç‡§∞</text>
                        <text x="75" y="45" fill="var(--secondary)" font-size="0.6rem" text-anchor="middle">‡§Æ‡§Ç‡§ó‡§≤</text>
                        <text x="50" y="80" fill="var(--secondary)" font-size="0.6rem" text-anchor="middle">‡§∂‡§®‡§ø</text>
                    </svg>
                </div>
            </div>
            <div class="info-card">
                <h3>‡§Ü‡§ú ‡§ï‡§æ ‡§™‡§Ç‡§ö‡§æ‡§Ç‡§ó (Live)</h3>
                <ul style="list-style:none; color:#ccc; line-height:2.2;">
                    <li>üìÖ <strong>‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï:</strong> <span id="panchangDate">--</span></li>
                    <li>‚≠ê <strong>‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞:</strong> ‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§º‡§æ</li>
                    <li>üßò <strong>‡§Ø‡•ã‡§ó:</strong> ‡§∏‡§ø‡§¶‡•ç‡§ß‡§ø</li>
                    <li>üåô <strong>‡§™‡§ï‡•ç‡§∑:</strong> ‡§∂‡•Å‡§ï‡•ç‡§≤ ‡§™‡§ï‡•ç‡§∑</li>
                    <li>‚òÄÔ∏è <strong>‡§∏‡•Ç‡§∞‡•ç‡§Ø‡•ã‡§¶‡§Ø:</strong> 06:15 AM</li>
                </ul>
            </div>
            <div class="info-card">
                <h3>‡§¶‡•à‡§®‡§ø‡§ï ‡§∞‡§æ‡§∂‡§ø‡§´‡§≤ (Daily)</h3>
                <p style="color:#ccc; line-height:1.6; margin-bottom:15px;">
                    ‡§Ü‡§ú ‡§ö‡§Ç‡§¶‡•ç‡§∞‡§Æ‡§æ ‡§î‡§∞ ‡§ó‡•Å‡§∞‡•Å ‡§ï‡•Ä ‡§Ø‡•Å‡§§‡§ø ‡§∏‡•á '‡§ó‡§ú‡§ï‡•á‡§∏‡§∞‡•Ä ‡§Ø‡•ã‡§ó' ‡§¨‡§® ‡§∞‡§π‡§æ ‡§π‡•à‡•§ 
                    ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§Æ‡§æ‡§®-‡§∏‡§Æ‡•ç‡§Æ‡§æ‡§® ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ‡•§ ‡§™‡•Å‡§∞‡§æ‡§®‡•á ‡§®‡§ø‡§µ‡•á‡§∂ ‡§∏‡•á ‡§≤‡§æ‡§≠ ‡§π‡•ã‡§ó‡§æ‡•§
                </p>
                <div style="background:#111; padding:10px; color:var(--secondary);">
                    ‡§≤‡§ï‡•Ä ‡§®‡§Ç‡§¨‡§∞: 3 | ‡§∂‡•Å‡§≠ ‡§∞‡§Ç‡§ó: ‡§™‡•Ä‡§≤‡§æ (Yellow)
                </div>
            </div>
        </div>

        <h2 style="text-align:center; color:var(--secondary); font-family:var(--font-main); margin:40px 0;">/// ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç (All Services)</h2>
        <div class="modules-grid" id="modulesArea">
            <div class="module-card"><div class="module-icon">‚ú®</div><div class="module-title">‡§µ‡•à‡§¶‡§ø‡§ï ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä</div></div>
            <div class="module-card"><div class="module-icon">‚ù§Ô∏è</div><div class="module-title">‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä ‡§Æ‡§ø‡§≤‡§æ‡§®</div></div>
            <div class="module-card"><div class="module-icon">üÉè</div><div class="module-title">‡§ü‡•à‡§∞‡•ã ‡§ï‡§æ‡§∞‡•ç‡§°</div></div>
            <div class="module-card"><div class="module-icon">üî¢</div><div class="module-title">‡§Ö‡§Ç‡§ï ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑</div></div>
            <div class="module-card"><div class="module-icon">üìï</div><div class="module-title">‡§≤‡§æ‡§≤ ‡§ï‡§ø‡§§‡§æ‡§¨</div></div>
            <div class="module-card"><div class="module-icon">‚úã</div><div class="module-title">‡§π‡§∏‡•ç‡§§‡§∞‡•á‡§ñ‡§æ</div></div>
            <div class="module-card"><div class="module-icon">üè†</div><div class="module-title">‡§µ‡§æ‡§∏‡•ç‡§§‡•Å ‡§¶‡•ã‡§∑</div></div>
            <div class="module-card"><div class="module-icon">üïâÔ∏è</div><div class="module-title">‡§¶‡•ã‡§∑ ‡§®‡§ø‡§µ‡§æ‡§∞‡§£</div></div>
        </div>

        <h2 style="text-align:center; color:var(--primary); font-family:var(--font-main); margin:50px 0 30px;">üì∫ ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑ ‡§ú‡•ç‡§û‡§æ‡§® (Video Gallery)</h2>
        <div class="video-grid">
            <div class="video-blank"><div style="font-size:2rem; margin-bottom:10px;">‚ñ∂Ô∏è</div><div>Weekly Horoscope</div></div>
            <div class="video-blank"><div style="font-size:2rem; margin-bottom:10px;">‚ñ∂Ô∏è</div><div>Kaal Sarp Dosh Upay</div></div>
            <div class="video-blank"><div style="font-size:2rem; margin-bottom:10px;">‚ñ∂Ô∏è</div><div>Vastu Shastra Tips</div></div>
        </div>
    </div>

    <div class="reg-section">
        <h2 style="color:var(--secondary); font-family:var(--font-main);">‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑ ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ (Astrologer Registration)</h2>
        <p style="color:#ccc; margin-bottom:20px;">Join India's Largest Vedic Platform</p>
        <form action="https://formspree.io/f/mwvnpzla" method="POST" class="reg-form">
            <input type="text" name="guru_name" class="input-field" placeholder="Full Name">
            <input type="text" name="experience" class="input-field" placeholder="Experience">
            <input type="email" name="email" class="input-field" placeholder="Email">
            <button class="btn-generate">REGISTER NOW</button>
        </form>
    </div>

    <footer>
        <p>&copy; 2026 Bhagya Aapka. All Rights Reserved.</p>
        <p style="font-size:0.8rem; margin-top:10px;">Data Sources: Brihat Samhita & National Almanac</p>
    </footer>

    <script>
       // 1. CHAT BOT LOGIC (50 Sec Timer)
        let chatTimer = 50;
        let chatInterval;
        let isChatOpen = false;

        function toggleChat() {
            const chatBox = document.getElementById('aiChatBox');
            if (!isChatOpen) {
                chatBox.style.display = 'flex';
                isChatOpen = true;
                if(chatTimer === 50) startTimer(); // Only start if first time
            } else {
                chatBox.style.display = 'none';
                isChatOpen = false;
            }
        }

        function startTimer() {
            chatInterval = setInterval(() => {
                chatTimer--;
                document.getElementById('chatTimer').innerText = chatTimer + 's';
                if (chatTimer <= 0) {
                    clearInterval(chatInterval);
                    lockChat();
                }
            }, 1000);
        }

        function lockChat() {
            document.getElementById('chatLockedOverlay').style.display = 'flex';
            document.getElementById('chatInputArea').style.display = 'none';
        }

        function sendMessage() {
            const input = document.getElementById('userMsg');
            const txt = input.value.trim();
            if(!txt) return;

            // Add User Msg
            const body = document.getElementById('chatBody');
            body.innerHTML += `<div class="msg user-msg">${txt}</div>`;
            input.value = "";
            body.scrollTop = body.scrollHeight;

            // AI Simulated Response
            setTimeout(() => {
                let reply = "‡§ó‡•ç‡§∞‡§π‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡§æ ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...";
                if(txt.toLowerCase().includes("marriage") || txt.includes("‡§∂‡§æ‡§¶‡•Ä")) reply = "‡§∏‡§™‡•ç‡§§‡§Æ ‡§≠‡§æ‡§µ ‡§Æ‡•á‡§Ç ‡§ó‡•Å‡§∞‡•Å ‡§ï‡•Ä ‡§¶‡•É‡§∑‡•ç‡§ü‡§ø ‡§µ‡§ø‡§µ‡§æ‡§π ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∂‡•Å‡§≠ ‡§∏‡§Ç‡§ï‡•á‡§§ ‡§¶‡•á ‡§∞‡§π‡•Ä ‡§π‡•à‡•§";
                else if(txt.toLowerCase().includes("money") || txt.includes("‡§ß‡§®")) reply = "‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø ‡§≠‡§æ‡§µ (‡§ß‡§®) ‡§Æ‡•á‡§Ç ‡§¨‡•Å‡§ß ‡§ï‡§æ ‡§ó‡•ã‡§ö‡§∞ ‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï ‡§≤‡§æ‡§≠ ‡§ï‡§∞‡§æ‡§è‡§ó‡§æ‡•§";
                else if(txt.toLowerCase().includes("career") || txt.includes("job")) reply = "‡§¶‡§∂‡§Æ ‡§≠‡§æ‡§µ (‡§ï‡§∞‡•ç‡§Æ) ‡§™‡•ç‡§∞‡§¨‡§≤ ‡§π‡•à‡•§ ‡§®‡§è ‡§Ö‡§µ‡§∏‡§∞ ‡§ú‡§≤‡•ç‡§¶ ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á‡•§";
                
                body.innerHTML += `<div class="msg bot-msg">${reply}</div>`;
                body.scrollTop = body.scrollHeight;
            }, 1500);
        }

        // 2. LIVE PANCHANG
        function updatePanchang() {
            const today = new Date();
            const dateStr = today.toLocaleDateString('hi-IN', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            document.getElementById('liveMarquee').innerText = `|| ‡•ê ‡§®‡§Æ‡§É ‡§∂‡§ø‡§µ‡§æ‡§Ø || ‡§Ü‡§ú: ${dateStr} | ‡§§‡§ø‡§•‡§ø: ‡§∂‡•Å‡§ï‡•ç‡§≤ ‡§¶‡§∂‡§Æ‡•Ä | ‡§∞‡§æ‡§π‡•Å‡§ï‡§æ‡§≤: 15:00-16:30 | ‡§∂‡•Å‡§≠ ‡§∞‡§Ç‡§ó: ‡§ï‡•á‡§∏‡§∞‡§ø‡§Ø‡§æ ||`;
            document.getElementById('panchangDate').innerText = dateStr;
        }

        // 3. BACKGROUND
        const container = document.getElementById('waveContainer');
        const symbols = ['‚ôà','‚ôâ','‚ôä','‚ôã','‚ôå','‚ôç','‚ôé','‚ôè','‚ôê','‚ôë','‚ôí','‚ôì','‡•ê','Âçê'];
        for(let i=0; i<30; i++) {
            let el = document.createElement('div');
            el.classList.add('float-symbol');
            el.innerText = symbols[Math.floor(Math.random()*symbols.length)];
            el.style.left = Math.random()*100 + 'vw';
            el.style.animationDuration = (10+Math.random()*20)+'s';
            el.style.animationDelay = Math.random()*5+'s';
            container.appendChild(el);
        }

        // 4. CITY SEARCH
        const locations = ["Mumbai", "Delhi", "Varanasi", "Patna", "Rampur", "Sonpur", "Bhopal", "Indore", "Raipur", "Kashi", "Ayodhya", "Pune", "Nagpur", "Jaipur", "Lucknow", "Kanpur", "Kolkata", "Chennai", "Bangalore", "Hyderabad", "Ahmedabad"];
        function searchCity() {
            let input = document.getElementById('cityInput').value.toLowerCase();
            let box = document.getElementById('cityList');
            box.innerHTML = '';
            if(input.length > 0) {
                box.style.display = 'block';
                let filtered = locations.filter(c => c.toLowerCase().includes(input));
                filtered.forEach(c => {
                    let div = document.createElement('div'); div.classList.add('city-item'); div.innerText = c;
                    div.onclick = function() { document.getElementById('cityInput').value = c; box.style.display = 'none'; }
                    box.appendChild(div);
                });
                if(filtered.length===0) {
                    let div = document.createElement('div'); div.classList.add('city-item'); div.innerText = "Use: "+input;
                    div.onclick = function() { box.style.display = 'none'; }; box.appendChild(div);
                }
            } else { box.style.display = 'none'; }
        }

        // 5. GENERATE
        function generateReport() {
            let name = document.getElementById('name').value;
            let dob = document.getElementById('dob').value;
            if(!name || !dob) { alert("Please fill Name and DOB."); return; }
            
            let date = new Date(dob);
            let month = date.getMonth() + 1;
            let colorMain = "", colorSec = "", rashi = "";

            if(month >= 3 && month <= 6) { colorMain = "#FF4500"; colorSec = "#FFD700"; rashi = "‡§Æ‡•á‡§∑ (Aries)"; }
            else if(month >= 7 && month <= 10) { colorMain = "#2E8B57"; colorSec = "#F4A460"; rashi = "‡§ï‡§®‡•ç‡§Ø‡§æ (Virgo)"; }
            else { colorMain = "#00BFFF"; colorSec = "#E0FFFF"; rashi = "‡§ï‡•Å‡§Ç‡§≠ (Aquarius)"; }

            document.documentElement.style.setProperty('--primary', colorMain);
            document.documentElement.style.setProperty('--secondary', colorSec);

            document.getElementById('mainForm').style.display = 'none';
            document.getElementById('dashboardArea').style.display = 'block';
            document.getElementById('userNameDisplay').innerText = `‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ${name}`;
            document.getElementById('rashiDisplay').innerText = `‡§∞‡§æ‡§∂‡§ø: ${rashi}`;
            document.getElementById('modulesArea').style.opacity = '1';
            document.getElementById('modulesArea').style.pointerEvents = 'all';
            document.getElementById('dashboardArea').scrollIntoView();
        }

        // 6. TRANSLATE
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'hi,mr,bn,gu,ta,te', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        }
    </script>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>
</html>
