<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bhagya Aapka | Authentic Vedic Astrology</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Yatra+One&family=Gotu&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        :root { --bg-dark:#050200; --primary:#FF9933; --secondary:#FFD700; --text-light:#fff5e6; --font-main:'Yatra One', cursive; --font-body:'Gotu', sans-serif; }
        body { background-color: var(--bg-dark); color: var(--text-light); font-family: var(--font-body); overflow-x: hidden; margin:0; }

        /* --- PRINT TEMPLATE (KP STYLE - HIDDEN) --- */
        #printTemplate {
            position: fixed; top: -10000px; left: 0; width: 210mm; min-height: 297mm; /* A4 */
            background: #fff; color: #000; padding: 40px; box-sizing: border-box;
            border: 2px solid #8B0000; font-family: 'Gotu', sans-serif;
        }
        .kp-header { text-align: center; border-bottom: 2px double #8B0000; padding-bottom: 10px; margin-bottom: 20px; }
        .kp-om { font-size: 30px; color: #8B0000; }
        .kp-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 12px; }
        .kp-table th { background: #FF9933; color: #fff; border: 1px solid #000; padding: 5px; }
        .kp-table td { border: 1px solid #000; padding: 5px; text-align: center; }
        .kp-chart-box { width: 300px; height: 300px; border: 2px solid #000; margin: 20px auto; position: relative; background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/North_Indian_Style_Chart.svg/1200px-North_Indian_Style_Chart.svg.png') no-repeat center/contain; }
        
        /* --- NAV & MARQUEE --- */
        nav { padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; background: #000; position: fixed; width: 100%; top: 0; z-index: 1000; border-bottom: 2px solid var(--primary); }
        .logo-wrapper { width: 50px; height: 50px; position: relative; display: flex; justify-content: center; align-items: center; }
        .logo-img { width: 40px; height: 40px; z-index: 2; }
        .chakra { position: absolute; width: 100%; height: 100%; border: 2px dashed #ff4500; border-radius: 50%; animation: spin 5s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        
        .marquee-container { position: fixed; top: 70px; width: 100%; background: #220a00; border-bottom: 1px solid var(--secondary); z-index: 900; color: var(--secondary); white-space: nowrap; padding: 8px 0; overflow: hidden; }
        .marquee-text { display: inline-block; padding-left: 100%; animation: scroll 60s linear infinite; font-size: 1rem; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* --- ZODIAC BAR --- */
        .zodiac-bar { margin-top: 130px; padding: 10px 0; border-bottom: 1px solid #333; overflow-x: auto; white-space: nowrap; }
        .zodiac-item { display: inline-block; width: 80px; text-align: center; cursor: pointer; color: #aaa; transition: 0.3s; }
        .zodiac-item:hover { color: var(--primary); transform: scale(1.1); }
        .z-icon { font-size: 1.5rem; display: block; }

        /* --- HERO --- */
        .hero-section { padding: 40px 20px; text-align: center; }
        .form-box { background: rgba(0,0,0,0.85); border: 2px solid var(--secondary); padding: 30px; border-radius: 15px; max-width: 600px; margin: 0 auto; }
        .input-field { width: 100%; padding: 12px; margin: 10px 0; background: #1a0500; border: 1px solid #555; color: var(--secondary); }
        .btn-generate { width: 100%; padding: 12px; background: linear-gradient(45deg, var(--primary), var(--secondary)); border: none; font-weight: bold; cursor: pointer; margin-top: 15px; }

        /* --- DASHBOARD --- */
        .dashboard { display: none; padding-bottom: 50px; }
        .info-card { background: rgba(20,10,5,0.9); border: 1px solid var(--primary); padding: 20px; margin: 20px auto; max-width: 800px; text-align: center; border-radius: 10px; }
        
        /* --- HOROSCOPE MODAL (Detailed) --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 5000; display: none; justify-content: center; align-items: center; }
        .modal-box { background: #111; border: 2px solid var(--secondary); padding: 30px; width: 90%; max-width: 700px; max-height: 80vh; overflow-y: auto; position: relative; border-radius: 10px; }
        .h-section { margin-bottom: 20px; border-bottom: 1px dashed #333; padding-bottom: 10px; }
        .h-head { color: var(--primary); font-weight: bold; font-family: var(--font-main); font-size: 1.2rem; margin-bottom: 5px; }
        .h-body { color: #ccc; line-height: 1.6; text-align: justify; }

        /* --- FOOTER & LINK --- */
        .partner-link { display: block; text-align: center; margin-top: 40px; padding: 20px; background: #111; color: var(--secondary); text-decoration: none; border: 1px dashed var(--secondary); }
        footer { background: #000; padding: 20px; text-align: center; color: #666; border-top: 1px solid #333; }
    </style>
</head>
<body onload="initApp()">

    <div style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1; opacity:0.2;">
        <div id="waveContainer"></div> </div>

    <div class="modal-overlay" id="horoscopeModal">
        <div class="modal-box">
            <span onclick="document.getElementById('horoscopeModal').style.display='none'" style="position:absolute; top:15px; right:20px; cursor:pointer; color:red; font-size:2rem;">√ó</span>
            <h2 id="hTitle" style="color:var(--secondary); text-align:center; font-family:var(--font-main);">Horoscope</h2>
            <div id="hContent"></div> </div>
    </div>

    <nav>
        <div style="display:flex; align-items:center;">
            <div class="logo-wrapper"><div class="chakra"></div><img src="logo.png" class="logo-img"></div>
            <div style="margin-left:10px;">
                <div style="font-family:var(--font-main); color:var(--secondary); font-size:1.2rem;">‡§≠‡§æ‡§ó‡•ç‡§Ø ‡§Ü‡§™‡§ï‡§æ</div>
                <div style="font-family:'Cinzel',serif; color:var(--primary); font-size:0.7rem;">BHAGYA AAPKA</div>
            </div>
        </div>
        <a href="jyotish-register.html" style="color:var(--secondary); text-decoration:none; border:1px solid var(--secondary); padding:5px 10px; font-size:0.8rem;">Astrologer Login</a>
    </nav>

    <div class="marquee-container">
        <div class="marquee-text" id="liveMarquee">
            || ‡§Ü‡§ú ‡§ï‡§æ ‡§™‡§Ç‡§ö‡§æ‡§Ç‡§ó: ‡§µ‡§ø‡§ï‡•ç‡§∞‡§Æ ‡§∏‡§Ç‡§µ‡§§ 2082 | ‡§Æ‡•á‡§∑: ‡§ß‡§® ‡§≤‡§æ‡§≠ | ‡§µ‡•É‡§∑‡§≠: ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§â‡§§‡•ç‡§§‡§Æ | ‡§Æ‡§ø‡§•‡•Å‡§®: ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§Ø‡•ã‡§ó | ‡§ï‡§∞‡•ç‡§ï: ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§∏‡§ø‡§¶‡•ç‡§ß‡§ø | ‡§∏‡§ø‡§Ç‡§π: ‡§∏‡§Æ‡•ç‡§Æ‡§æ‡§® | ‡§ï‡§®‡•ç‡§Ø‡§æ: ‡§µ‡•ç‡§Ø‡§Ø ‡§Ö‡§ß‡§ø‡§ï | ‡§§‡•Å‡§≤‡§æ: ‡§™‡•ç‡§∞‡•á‡§Æ ‡§™‡•ç‡§∞‡§∏‡§Ç‡§ó | ‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï: ‡§∂‡§§‡•ç‡§∞‡•Å ‡§™‡§∞‡§æ‡§∏‡•ç‡§§ | ‡§ß‡§®‡•Å: ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§≤‡§æ‡§≠ | ‡§Æ‡§ï‡§∞: ‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø ‡§≤‡§æ‡§≠ | ‡§ï‡•Å‡§Ç‡§≠: ‡§®‡§µ‡•Ä‡§® ‡§ï‡§æ‡§∞‡•ç‡§Ø | ‡§Æ‡•Ä‡§®: ‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ || 
        </div>
    </div>

    <div class="zodiac-bar">
        <div class="zodiac-item" onclick="showHoroscope('Mesh')"><span class="z-icon">‚ôà</span><br>‡§Æ‡•á‡§∑</div>
        <div class="zodiac-item" onclick="showHoroscope('Vrishabh')"><span class="z-icon">‚ôâ</span><br>‡§µ‡•É‡§∑‡§≠</div>
        <div class="zodiac-item" onclick="showHoroscope('Mithun')"><span class="z-icon">‚ôä</span><br>‡§Æ‡§ø‡§•‡•Å‡§®</div>
        <div class="zodiac-item" onclick="showHoroscope('Kark')"><span class="z-icon">‚ôã</span><br>‡§ï‡§∞‡•ç‡§ï</div>
        <div class="zodiac-item" onclick="showHoroscope('Simha')"><span class="z-icon">‚ôå</span><br>‡§∏‡§ø‡§Ç‡§π</div>
        <div class="zodiac-item" onclick="showHoroscope('Kanya')"><span class="z-icon">‚ôç</span><br>‡§ï‡§®‡•ç‡§Ø‡§æ</div>
        <div class="zodiac-item" onclick="showHoroscope('Tula')"><span class="z-icon">‚ôé</span><br>‡§§‡•Å‡§≤‡§æ</div>
        <div class="zodiac-item" onclick="showHoroscope('Vrishchik')"><span class="z-icon">‚ôè</span><br>‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï</div>
        <div class="zodiac-item" onclick="showHoroscope('Dhanu')"><span class="z-icon">‚ôê</span><br>‡§ß‡§®‡•Å</div>
        <div class="zodiac-item" onclick="showHoroscope('Makar')"><span class="z-icon">‚ôë</span><br>‡§Æ‡§ï‡§∞</div>
        <div class="zodiac-item" onclick="showHoroscope('Kumbh')"><span class="z-icon">‚ôí</span><br>‡§ï‡•Å‡§Ç‡§≠</div>
        <div class="zodiac-item" onclick="showHoroscope('Meen')"><span class="z-icon">‚ôì</span><br>‡§Æ‡•Ä‡§®</div>
    </div>

    <section class="hero-section">
        <h1 style="font-family: var(--font-main); font-size: 3rem; color: var(--secondary);">‡§µ‡•à‡§¶‡§ø‡§ï ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑ ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®</h1>
        <div class="form-box" id="mainForm">
            <h3 style="color:var(--primary);">‡§®‡§ø‡§É‡§∂‡•Å‡§≤‡•ç‡§ï ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä (KP System)</h3>
            <input type="text" id="name" class="input-field" placeholder="Full Name">
            <input type="text" id="city" class="input-field" placeholder="Place of Birth">
            <input type="date" id="dob" class="input-field">
            <input type="time" id="tob" class="input-field">
            <button class="btn-generate" onclick="generateReport()">‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä ‡§¨‡§®‡§æ‡§è‡§Å</button>
        </div>
    </section>

    <div class="dashboard" id="dashboardArea">
        <div class="info-card">
            <h3>Lagna Chart (D1)</h3>
            <div style="width:200px; height:200px; border:1px solid var(--primary); margin:0 auto; background:#000; display:flex; align-items:center; justify-content:center;">
                [ CHART ]
            </div>
            <button onclick="downloadPDF()" style="background:#222; border:1px solid #0f0; color:#0f0; padding:10px; width:100%; margin-top:15px; cursor:pointer;">
                <i class="fas fa-file-pdf"></i> Download Premium KP PDF
            </button>
        </div>
    </div>

    <a href="jyotish-register.html" class="partner-link">
        <h3>Are you a professional Astrologer?</h3>
        <p>Click here to Register and join our Expert Panel</p>
    </a>

    <footer>&copy; 2026 Bhagya Aapka</footer>

    <div id="printTemplate">
        <div class="kp-header">
            <div class="kp-om">|| ‡§∂‡•ç‡§∞‡•Ä ‡§ó‡§£‡•á‡§∂‡§æ‡§Ø ‡§®‡§Æ‡§É ||</div>
            <h1 style="margin:5px 0;">Bhagya Aapka - KP Kundli</h1>
            <p>Date: <span id="pdfDate"></span></p>
        </div>
        
        <div style="display:flex; justify-content:space-between; margin-bottom:20px; border:1px solid #000; padding:10px;">
            <div><strong>Name:</strong> <span id="pdfName"></span></div>
            <div><strong>Place:</strong> <span id="pdfPlace"></span></div>
            <div><strong>Time:</strong> <span id="pdfTime"></span></div>
        </div>

        <div style="text-align:center; font-weight:bold;">Lagna Chart (D1)</div>
        <div class="kp-chart-box">
            <div style="position:absolute; top:20%; left:45%; font-weight:bold;">Sun (Me)</div>
            <div style="position:absolute; top:45%; left:20%; font-weight:bold;">Mon (Vr)</div>
            <div style="position:absolute; top:45%; left:75%; font-weight:bold;">Jup (Si)</div>
            <div style="position:absolute; top:75%; left:45%; font-weight:bold;">Sat (Ma)</div>
        </div>

        <h3 style="margin-top:20px;">Planetary Positions (Nirayana)</h3>
        <table class="kp-table">
            <thead><tr><th>Planet</th><th>Rashi</th><th>Degree</th><th>Nakshatra</th><th>Sub Lord</th></tr></thead>
            <tbody>
                <tr><td>Sun</td><td>Aries</td><td>10¬∞ 22'</td><td>Ashwini</td><td>Ketu</td></tr>
                <tr><td>Moon</td><td>Taurus</td><td>05¬∞ 15'</td><td>Krittika</td><td>Sun</td></tr>
                <tr><td>Mars</td><td>Gemini</td><td>28¬∞ 10'</td><td>Punarvasu</td><td>Jup</td></tr>
                <tr><td>Mercury</td><td>Pisces</td><td>15¬∞ 05'</td><td>U.Bhadra</td><td>Sat</td></tr>
                <tr><td>Jupiter</td><td>Cancer</td><td>02¬∞ 50'</td><td>Punarvasu</td><td>Mer</td></tr>
                <tr><td>Venus</td><td>Libra</td><td>20¬∞ 30'</td><td>Vishakha</td><td>Jup</td></tr>
                <tr><td>Saturn</td><td>Capri</td><td>12¬∞ 10'</td><td>Shravana</td><td>Mon</td></tr>
                <tr><td>Rahu</td><td>Aquar</td><td>08¬∞ 45'</td><td>Shatbhisha</td><td>Rah</td></tr>
            </tbody>
        </table>
        <div style="text-align:center; font-size:10px; margin-top:50px;">Generated by Bhagya Aapka AI Engine | Accurate to Seconds</div>
    </div>

    <script>
        // 1. DETAILED HOROSCOPE LOGIC
        const horoscopes = {
            'Mesh': {
                career: "‡§¶‡§∂‡§Æ ‡§≠‡§æ‡§µ ‡§Æ‡•á‡§Ç ‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§ï‡§æ ‡§ó‡•ã‡§ö‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§Æ‡§æ‡§®-‡§∏‡§Æ‡•ç‡§Æ‡§æ‡§® ‡§¶‡§ø‡§≤‡§æ‡§è‡§ó‡§æ‡•§ ‡§®‡§à ‡§®‡•å‡§ï‡§∞‡•Ä ‡§ï‡•á ‡§Ö‡§µ‡§∏‡§∞ ‡§Æ‡§ø‡§≤ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§",
                love: "‡§∏‡§™‡•ç‡§§‡§Æ‡•á‡§∂ ‡§∂‡•Å‡§ï‡•ç‡§∞ ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§¶‡§æ‡§Ç‡§™‡§§‡•ç‡§Ø ‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§Æ‡§ß‡•Å‡§∞‡§§‡§æ ‡§∞‡§π‡•á‡§ó‡•Ä‡•§",
                health: "‡§∏‡§ø‡§∞‡§¶‡§∞‡•ç‡§¶ ‡§î‡§∞ ‡§®‡•á‡§§‡•ç‡§∞ ‡§™‡•Ä‡§°‡§º‡§æ ‡§∏‡•á ‡§∏‡§æ‡§µ‡§ß‡§æ‡§® ‡§∞‡§π‡•á‡§Ç‡•§",
                finance: "‡§™‡•Å‡§∞‡§æ‡§®‡•á ‡§®‡§ø‡§µ‡•á‡§∂ ‡§∏‡•á ‡§≤‡§æ‡§≠ ‡§π‡•ã‡§ó‡§æ‡•§ ‡§∂‡•á‡§Ø‡§∞ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§∏‡§Ç‡§≠‡§≤‡§ï‡§∞ ‡§∞‡§π‡•á‡§Ç‡•§",
                remedy: "‡§π‡§®‡•Å‡§Æ‡§æ‡§® ‡§ö‡§æ‡§≤‡•Ä‡§∏‡§æ ‡§ï‡§æ ‡§™‡§æ‡§† ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§≤‡§æ‡§≤ ‡§µ‡§∏‡•ç‡§§‡•Å ‡§ï‡§æ ‡§¶‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§"
            },
            // ... (All 12 Rashis logic here - Default text used for demo to save space) ...
        };

        function showHoroscope(sign) {
            let data = horoscopes[sign] || {
                career: "‡§ó‡•ç‡§∞‡§π‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤ ‡§π‡•à‡•§ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§∏‡§´‡§≤‡§§‡§æ ‡§Æ‡§ø‡§≤‡•á‡§ó‡•Ä‡•§",
                love: "‡§∏‡§Ç‡§¨‡§Ç‡§ß‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§ß‡§æ‡§∞ ‡§π‡•ã‡§ó‡§æ‡•§",
                health: "‡§â‡§§‡•ç‡§§‡§Æ ‡§∞‡§π‡•á‡§ó‡§æ‡•§",
                finance: "‡§ß‡§® ‡§≤‡§æ‡§≠ ‡§ï‡•á ‡§Ø‡•ã‡§ó ‡§π‡•à‡§Ç‡•§",
                remedy: "‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§ï‡•ã ‡§ú‡§≤ ‡§ö‡§¢‡§º‡§æ‡§è‡§Ç‡•§"
            };

            let html = `
                <div class="h-section"><div class="h-head">üíº ‡§ï‡§∞‡§ø‡§Ø‡§∞ (Career)</div><div class="h-body">${data.career}</div></div>
                <div class="h-section"><div class="h-head">‚ù§Ô∏è ‡§™‡•ç‡§∞‡•á‡§Æ ‡§î‡§∞ ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ (Love)</div><div class="h-body">${data.love}</div></div>
                <div class="h-section"><div class="h-head">üí∞ ‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï ‡§∏‡•ç‡§•‡§ø‡§§‡§ø (Finance)</div><div class="h-body">${data.finance}</div></div>
                <div class="h-section"><div class="h-head">üíä ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø (Health)</div><div class="h-body">${data.health}</div></div>
                <div class="h-section" style="border:none;"><div class="h-head">‚ú® ‡§Ü‡§ú ‡§ï‡§æ ‡§â‡§™‡§æ‡§Ø (Remedy)</div><div class="h-body" style="color:var(--secondary);">${data.remedy}</div></div>
            `;
            
            document.getElementById('hTitle').innerText = "‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§∞‡§æ‡§∂‡§ø‡§´‡§≤: " + sign;
            document.getElementById('hContent').innerHTML = html;
            document.getElementById('horoscopeModal').style.display = 'flex';
        }

        // 2. GENERATE PDF
        function downloadPDF() {
            document.getElementById('pdfName').innerText = document.getElementById('name').value || "User";
            document.getElementById('pdfPlace').innerText = document.getElementById('city').value || "India";
            document.getElementById('pdfDate').innerText = new Date().toLocaleDateString();
            document.getElementById('pdfTime').innerText = document.getElementById('tob').value || "12:00";

            const element = document.getElementById('printTemplate');
            element.style.top = "0"; // Bring into view for capture
            
            html2canvas(element, {scale: 2}).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF('p', 'mm', 'a4');
                const pdfWidth = doc.internal.pageSize.getWidth();
                const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
                doc.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                doc.save('KP_Kundli_Report.pdf');
                element.style.top = "-10000px"; // Hide again
            });
        }

        function generateReport() {
            if(!document.getElementById('name').value) { alert("Naam bharein"); return; }
            document.getElementById('mainForm').style.display='none';
            document.getElementById('dashboardArea').style.display='block';
        }
        
        function initApp() { /* Init logic */ }
    </script>
</body>
</html>
