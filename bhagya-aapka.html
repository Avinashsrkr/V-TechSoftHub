<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bhagya Aapka | AI Vedic Astrology</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Yatra+One&family=Gotu&family=Cinzel:wght@400;700&family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        /* --- THEME --- */
        :root {
            --bg-dark: #050200;
            --primary: #FF9933; 
            --secondary: #FFD700;    
            --text-light: #fff5e6;
            --font-main: 'Yatra One', cursive; 
            --font-body: 'Gotu', sans-serif;   
        }

        * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }
        
        body { 
            background-color: var(--bg-dark); 
            color: var(--text-light); 
            font-family: var(--font-body);
            overflow-x: hidden;
        }

        /* --- PRINT TEMPLATE (Hidden) --- */
        #printTemplate { position: absolute; top: -9999px; width: 794px; background: #fff; color: #000; padding: 40px; border: 5px double #ff4500; font-family: 'Gotu', sans-serif; }
        .pdf-header { text-align: center; border-bottom: 2px solid #ff4500; padding-bottom: 20px; }
        
        /* --- UI STYLES --- */
        .wave-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.2; pointer-events: none; }
        
        /* NAV */
        nav { padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; background: #000; position: fixed; width: 100%; top: 0; z-index: 1000; border-bottom: 2px solid var(--primary); height: 70px; }
        .logo-wrapper { position: relative; width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; }
        .logo-img-static { width: 40px; height: 40px; border-radius: 50%; z-index: 2; }
        .chakra-spin { position: absolute; width: 100%; height: 100%; border-radius: 50%; border: 2px dashed transparent; border-top-color: #ff4500; border-bottom-color: #ff9933; animation: spinChakra 4s linear infinite; z-index: 1; }
        @keyframes spinChakra { 100% { transform: rotate(360deg); } }
        .logo-text-group { margin-left: 10px; display: flex; flex-direction: column; }

        /* MARQUEE (SCROLL FIX) */
        .marquee-container { 
            position: fixed; top: 70px; /* Exact height of Nav */
            width: 100%; background: #1a0500; 
            border-bottom: 1px solid var(--secondary); z-index: 900; 
            color: var(--secondary); font-family: var(--font-main); 
            padding: 8px 0; white-space: nowrap; overflow: hidden;
        }
        .marquee-text { display: inline-block; padding-left: 100%; animation: scroll 45s linear infinite; font-size: 1.1rem; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* ZODIAC BAR */
        .zodiac-bar { margin-top: 130px; padding: 20px 5%; text-align: center; border-bottom: 1px solid #333; }
        .zodiac-list { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 10px; justify-content: center; }
        .zodiac-item { min-width: 90px; background: #111; border: 1px solid #444; border-radius: 10px; padding: 10px; cursor: pointer; transition: 0.3s; text-align: center; color: #fff; }
        .zodiac-item:hover { border-color: var(--secondary); background: #220a00; transform: scale(1.1); }

        /* HERO FORM */
        .hero-section { padding: 40px 20px; text-align: center; }
        .form-box { background: rgba(0,0,0,0.85); border: 2px solid var(--secondary); padding: 30px; border-radius: 15px; max-width: 650px; margin: 0 auto; box-shadow: 0 0 30px rgba(255, 153, 51, 0.2); position: relative; }
        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .input-field { width: 100%; padding: 12px; background: #1a0500; border: 1px solid #555; color: var(--secondary); outline: none; border-radius: 5px; }
        .city-results { position: absolute; background: #111; width: 100%; max-height: 200px; overflow-y: auto; z-index: 50; border: 1px solid var(--primary); display: none; text-align: left; }
        .city-item { padding: 10px; cursor: pointer; border-bottom: 1px solid #333; color: #ccc; }
        .city-item:hover { background: var(--primary); color: #000; }
        .btn-generate { width: 100%; padding: 15px; background: linear-gradient(45deg, var(--primary), var(--secondary)); border: none; font-family: var(--font-main); font-size: 1.3rem; cursor: pointer; margin-top: 20px; color: #000; font-weight: bold; }

        /* DASHBOARD */
        .dashboard { display: none; padding-bottom: 50px; }
        .info-card { background: rgba(20, 10, 5, 0.95); border: 1px solid var(--primary); padding: 20px; border-radius: 10px; margin: 20px; text-align: center; }
        .chart-svg { width: 100%; height: 100%; stroke: var(--primary); stroke-width: 1.2; }
        
        .modules-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; padding: 0 5%; opacity: 0.6; pointer-events: none; transition: 0.5s; }
        .module-card { background: rgba(20, 10, 0, 0.9); border: 1px solid #444; padding: 25px; text-align: center; border-radius: 12px; cursor: pointer; transition: 0.3s; }
        .module-card:hover { border-color: var(--secondary); transform: translateY(-5px); box-shadow: 0 0 15px var(--primary); }

        /* REGISTRATION FORM (DETAILED) */
        .reg-section { background: linear-gradient(to bottom, #1a0500, #000); padding: 60px 20px; border-top: 2px solid var(--secondary); }
        .reg-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; max-width: 800px; margin: 30px auto; text-align: left; }
        .reg-label { color: #aaa; font-size: 0.9rem; margin-bottom: 5px; display: block; }
        .full-width { grid-column: span 2; }
        .photo-upload-box { border: 1px dashed var(--secondary); padding: 20px; text-align: center; border-radius: 10px; cursor: pointer; }
        .photo-upload-box:hover { background: rgba(255,215,0,0.1); }
        .ref-img { width: 100%; max-width: 300px; border: 2px solid #444; margin-top: 10px; border-radius: 5px; }

        /* HOROSCOPE MODAL (Detailed) */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 5000; display: none; justify-content: center; align-items: center; }
        .modal-box { background: #111; border: 2px solid var(--secondary); padding: 30px; max-width: 600px; width: 90%; text-align: left; border-radius: 15px; position: relative; max-height: 80vh; overflow-y: auto; }
        .horoscope-section { margin-bottom: 15px; border-bottom: 1px dashed #444; padding-bottom: 10px; }
        .h-title { color: var(--primary); font-weight: bold; font-family: var(--font-main); font-size: 1.2rem; }

        footer { background: #000; padding: 30px; text-align: center; border-top: 1px solid #333; color: #666; }
        
        @media(max-width: 768px) { .input-grid, .reg-grid { grid-template-columns: 1fr; } .full-width { grid-column: span 1; } }
    </style>
</head>
<body onload="initApp()">

    <div style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1; opacity:0.2; pointer-events:none;">
        <div id="waveContainer"></div>
    </div>

    <div class="modal-overlay" id="horoscopeModal">
        <div class="modal-box">
            <span onclick="document.getElementById('horoscopeModal').style.display='none'" style="position:absolute; top:15px; right:20px; cursor:pointer; color:red; font-size:2rem;">√ó</span>
            <h2 id="modalTitle" style="color:var(--secondary); font-family:var(--font-main); text-align:center; border-bottom:1px solid var(--primary); padding-bottom:10px;">‡§¶‡•à‡§®‡§ø‡§ï ‡§∞‡§æ‡§∂‡§ø‡§´‡§≤</h2>
            
            <div id="modalContent" style="margin-top:20px; color:#ccc; line-height:1.6;">
                </div>
            
            <button class="btn-generate" onclick="document.getElementById('horoscopeModal').style.display='none'; document.getElementById('mainForm').scrollIntoView();" style="margin-top:20px; width:100%;">‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§æ‡§è‡§Ç</button>
        </div>
    </div>

    <nav>
        <div class="logo-wrapper">
            <div class="chakra-spin"></div>
            <img src="logo.png" class="logo-img-static" alt="Logo">
        </div>
        <div class="logo-text-group">
            <span style="font-family:var(--font-main); font-size:1.2rem; color:var(--secondary);">‡§≠‡§æ‡§ó‡•ç‡§Ø ‡§Ü‡§™‡§ï‡§æ</span>
            <span style="font-family:'Cinzel', serif; font-size:0.7rem; color:var(--primary); letter-spacing:2px;">BHAGYA AAPKA</span>
        </div>
        <div id="google_translate_element"></div>
    </nav>

    <div class="marquee-container">
        <div class="marquee-text" id="liveMarquee">Loading Panchang...</div>
    </div>

    <div class="zodiac-bar">
        <h3 style="color:var(--primary); font-family:var(--font-main); margin-bottom:15px;">‡§Ö‡§™‡§®‡•Ä ‡§∞‡§æ‡§∂‡§ø ‡§ö‡•Å‡§®‡•á‡§Ç (Detailed Daily Horoscope)</h3>
        <div class="zodiac-list">
            <div class="zodiac-item" onclick="showHoroscope('Mesh')">‚ôà<br>‡§Æ‡•á‡§∑</div>
            <div class="zodiac-item" onclick="showHoroscope('Vrishabh')">‚ôâ<br>‡§µ‡•É‡§∑‡§≠</div>
            <div class="zodiac-item" onclick="showHoroscope('Mithun')">‚ôä<br>‡§Æ‡§ø‡§•‡•Å‡§®</div>
            <div class="zodiac-item" onclick="showHoroscope('Kark')">‚ôã<br>‡§ï‡§∞‡•ç‡§ï</div>
            <div class="zodiac-item" onclick="showHoroscope('Simha')">‚ôå<br>‡§∏‡§ø‡§Ç‡§π</div>
            <div class="zodiac-item" onclick="showHoroscope('Kanya')">‚ôç<br>‡§ï‡§®‡•ç‡§Ø‡§æ</div>
            <div class="zodiac-item" onclick="showHoroscope('Tula')">‚ôé<br>‡§§‡•Å‡§≤‡§æ</div>
            <div class="zodiac-item" onclick="showHoroscope('Vrishchik')">‚ôè<br>‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï</div>
            <div class="zodiac-item" onclick="showHoroscope('Dhanu')">‚ôê<br>‡§ß‡§®‡•Å</div>
            <div class="zodiac-item" onclick="showHoroscope('Makar')">‚ôë<br>‡§Æ‡§ï‡§∞</div>
            <div class="zodiac-item" onclick="showHoroscope('Kumbh')">‚ôí<br>‡§ï‡•Å‡§Ç‡§≠</div>
            <div class="zodiac-item" onclick="showHoroscope('Meen')">‚ôì<br>‡§Æ‡•Ä‡§®</div>
        </div>
    </div>

    <div style="background:rgba(0, 243, 255, 0.05); border:1px solid #00f3ff; margin:30px 5%; padding:20px; border-radius:15px; text-align:center;">
        <h3 style="color:#00f3ff; font-family:var(--font-main);">Meet Our Expert Panel</h3>
        <p style="color:#aaa;">Certified Vedic Astrologers, Nadi Experts & Tarot Readers</p>
        <div style="display:flex; justify-content:center; gap:20px; margin-top:20px; flex-wrap:wrap;">
            <div style="text-align:center;">
                <img src="https://via.placeholder.com/80/000/fff?text=Expert" style="border-radius:50%; border:2px solid #00f3ff;">
                <div style="color:#fff; font-size:0.8rem;">Vedic Shastri</div>
            </div>
            <div style="text-align:center;">
                <img src="https://via.placeholder.com/80/000/fff?text=Expert" style="border-radius:50%; border:2px solid #00f3ff;">
                <div style="color:#fff; font-size:0.8rem;">Tarot Master</div>
            </div>
            <div style="text-align:center;">
                <img src="https://via.placeholder.com/80/000/fff?text=Expert" style="border-radius:50%; border:2px solid #00f3ff;">
                <div style="color:#fff; font-size:0.8rem;">Vastu Guru</div>
            </div>
        </div>
    </div>

    <section class="hero-section">
        <h1 style="font-family: var(--font-main); font-size: 3rem; color: var(--secondary);">‡§µ‡•à‡§¶‡§ø‡§ï ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑ ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®</h1>
        <div class="form-box" id="mainForm">
            <h3 style="color:var(--primary); font-family:var(--font-main); margin-bottom: 20px;">‡§®‡§ø‡§É‡§∂‡•Å‡§≤‡•ç‡§ï ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä (KP Style)</h3>
            <div class="input-grid">
                <input type="text" id="name" class="input-field" placeholder="Full Name">
                <div style="position:relative;">
                    <input type="text" id="cityInput" class="input-field" placeholder="City (Korba, Palghar, etc.)" onkeyup="searchCity()">
                    <div class="city-results" id="cityList"></div>
                </div>
                <input type="date" id="dob" class="input-field">
                <input type="time" id="tob" class="input-field">
            </div>
            <button class="btn-generate" onclick="generateReport()">‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä ‡§¨‡§®‡§æ‡§è‡§Å (GENERATE)</button>
        </div>
    </section>

    <div class="dashboard" id="dashboardArea">
        <div style="text-align:center; padding:30px;">
            <h2 id="userNameDisplay" style="color:var(--secondary);">‡§®‡§Æ‡§∏‡•ç‡§§‡•á</h2>
            <p id="rashiDisplay" style="color:var(--primary);">‡§∞‡§æ‡§∂‡§ø: --</p>
        </div>

        <div class="info-card">
            <h3>Lagna Chart Generated</h3>
            <p style="color:#ccc;">(Detailed chart visible in PDF)</p>
            <button onclick="downloadPDF()" style="background:#222; border:1px solid #0f0; color:#0f0; padding:10px; width:100%; cursor:pointer;">Download KP Kundli PDF</button>
        </div>

        <div class="modules-grid" id="modulesArea">
            <div class="module-card"><h3>‚ú® ‡§µ‡•à‡§¶‡§ø‡§ï ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä</h3></div>
            <div class="module-card"><h3>‚ù§Ô∏è ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä ‡§Æ‡§ø‡§≤‡§æ‡§®</h3></div>
            <div class="module-card"><h3>üÉè ‡§ü‡•à‡§∞‡•ã ‡§ï‡§æ‡§∞‡•ç‡§°</h3></div>
            <div class="module-card"><h3>üî¢ ‡§Ö‡§Ç‡§ï ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑</h3></div>
            <div class="module-card"><h3>üìï ‡§≤‡§æ‡§≤ ‡§ï‡§ø‡§§‡§æ‡§¨</h3></div>
            <div class="module-card"><h3>üïâÔ∏è ‡§¶‡•ã‡§∑ ‡§®‡§ø‡§µ‡§æ‡§∞‡§£</h3></div>
        </div>
    </div>

    <section class="reg-section">
        <h2 style="color:var(--secondary); font-family:var(--font-main); font-size:2.5rem; text-align:center;">‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑ ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ (Official Registration)</h2>
        <p style="color:#ccc; text-align:center;">Join our elite panel of verified astrologers.</p>
        
        <form action="https://formspree.io/f/mwvnpzla" method="POST" class="reg-grid">
            
            <div class="full-width" style="border-bottom:1px solid #333; margin-bottom:15px; color:var(--primary);">Personal Details</div>
            
            <div>
                <label class="reg-label">Full Name (‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ)</label>
                <input type="text" name="guru_name" class="input-field" placeholder="Eg. Pt. Rahul Sharma" required>
            </div>
            <div>
                <label class="reg-label">Mobile Number</label>
                <input type="text" name="phone" class="input-field" placeholder="+91..." required>
            </div>
            <div>
                <label class="reg-label">Email (Optional)</label>
                <input type="email" name="email" class="input-field" placeholder="abc@gmail.com">
            </div>
            <div>
                <label class="reg-label">Location (City/State)</label>
                <input type="text" name="location" class="input-field" placeholder="Eg. Varanasi, UP" required>
            </div>

            <div class="full-width" style="border-bottom:1px solid #333; margin:15px 0; color:var(--primary);">Professional Details</div>

            <div>
                <label class="reg-label">Education (‡§™‡§¢‡§º‡§æ‡§à)</label>
                <input type="text" name="education" class="input-field" placeholder="Eg. MA Sanskrit, BHU">
            </div>
            <div>
                <label class="reg-label">Degree/Certification</label>
                <input type="text" name="degree" class="input-field" placeholder="Eg. Jyotish Acharya">
            </div>
            <div class="full-width">
                <label class="reg-label">Rituals & Services (‡§Ü‡§™ ‡§ï‡•å‡§®‡§∏‡•á ‡§Ö‡§®‡•Å‡§∑‡•ç‡§†‡§æ‡§® ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç?)</label>
                <textarea name="services" class="input-field" rows="3" placeholder="Eg. Rudrabhishek, Kaal Sarp Dosh, Maha Mrityunjay Jaap..."></textarea>
            </div>
            <div>
                <label class="reg-label">Consultation Charge (‚Çπ)</label>
                <input type="text" name="charge" class="input-field" placeholder="Eg. 501/- per 30 mins">
            </div>

            <div class="full-width" style="border-bottom:1px solid #333; margin:15px 0; color:var(--primary);">Photo Verification (Required)</div>
            
            <div class="full-width" style="text-align:center; margin-bottom:20px;">
                <p style="color:#aaa; font-size:0.8rem;">Please upload 3 clear photos as shown below:</p>
                <div style="display:flex; justify-content:center; gap:10px;">
                    <div style="border:1px solid #555; padding:5px; width:80px; height:80px; background:#222; color:#fff; font-size:0.7rem; display:flex; align-items:center; justify-content:center;">Passport<br>Size</div>
                    <div style="border:1px solid #555; padding:5px; width:80px; height:100px; background:#222; color:#fff; font-size:0.7rem; display:flex; align-items:center; justify-content:center;">Half Body<br>(Front)</div>
                    <div style="border:1px solid #555; padding:5px; width:80px; height:120px; background:#222; color:#fff; font-size:0.7rem; display:flex; align-items:center; justify-content:center;">Full Body<br>(Standing)</div>
                </div>
            </div>

            <div class="full-width">
                <label class="reg-label">Upload Photos (Select 3 Files)</label>
                <input type="file" name="photos" class="input-field" multiple accept="image/png, image/jpeg">
                <p style="color:var(--primary); font-size:0.8rem; margin-top:5px;">* PNG/JPG, Clear Background required.</p>
            </div>

            <button class="btn-generate full-width" style="margin-top:20px;">SUBMIT APPLICATION</button>
        </form>
    </section>

    <footer>
        <p>&copy; 2026 Bhagya Aapka. All Rights Reserved.</p>
    </footer>

    <div id="printTemplate">
        <div class="pdf-header">
            <h1 style="color:#ff4500;">|| ‡§∂‡•ç‡§∞‡•Ä ‡§ó‡§£‡•á‡§∂‡§æ‡§Ø ‡§®‡§Æ‡§É ||</h1>
            <h2>Bhagya Aapka - KP Kundli</h2>
        </div>
        <div style="margin-top:20px;">
            <p><strong>Name:</strong> <span id="pdfName"></span></p>
            <p><strong>Place:</strong> <span id="pdfPlace"></span></p>
        </div>
        <table style="width:100%; border:1px solid #000; margin-top:20px; border-collapse:collapse;">
            <tr style="background:#ff9933; color:white;"><th>Grah</th><th>Rashi</th><th>Degree</th></tr>
            <tr><td>Sun</td><td>Mesh</td><td>10¬∞</td></tr>
            <tr><td>Moon</td><td>Vrishabh</td><td>15¬∞</td></tr>
        </table>
    </div>

    <script>
        // 1. INIT
        function initApp() {
            updatePanchang();
            createWave();
        }

        // 2. LIVE PANCHANG
        function updatePanchang() {
            const today = new Date();
            const year = today.getFullYear();
            const samvat = year + 57; 
            const dateStr = today.toLocaleDateString('hi-IN', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });
            document.getElementById('liveMarquee').innerText = `|| ‡•ê ‡§ó‡§Ç ‡§ó‡§£‡§™‡§§‡§Ø‡•á ‡§®‡§Æ‡§É || ‡§µ‡§ø‡§ï‡•ç‡§∞‡§Æ ‡§∏‡§Ç‡§µ‡§§ ${samvat} | ‡§Ü‡§ú: ${dateStr} | ‡§¶‡•à‡§®‡§ø‡§ï ‡§∞‡§æ‡§∂‡§ø‡§´‡§≤: ‡§Æ‡•á‡§∑-‡§≤‡§æ‡§≠, ‡§µ‡•É‡§∑‡§≠-‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ, ‡§Æ‡§ø‡§•‡•Å‡§®-‡§ö‡§ø‡§Ç‡§§‡§æ, ‡§ï‡§∞‡•ç‡§ï-‡§∏‡•Å‡§ñ... ||`;
        }

          // 3. DETAILED HOROSCOPE DATA
        const horoscopeData = {
            'Mesh': "‡§Ü‡§ú ‡§ï‡§æ ‡§¶‡§ø‡§® ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§∏‡•á ‡§≠‡§∞‡§æ ‡§∞‡§π‡•á‡§ó‡§æ‡•§ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§Æ‡§æ‡§®-‡§∏‡§Æ‡•ç‡§Æ‡§æ‡§® ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ‡•§\n\n‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï: ‡§ß‡§® ‡§≤‡§æ‡§≠ ‡§ï‡•á ‡§Ø‡•ã‡§ó ‡§π‡•à‡§Ç‡•§ ‡§∞‡•Å‡§ï‡§æ ‡§π‡•Å‡§Ü ‡§™‡•à‡§∏‡§æ ‡§Æ‡§ø‡§≤ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§\n‡§™‡•ç‡§∞‡•á‡§Æ: ‡§ú‡•Ä‡§µ‡§®‡§∏‡§æ‡§•‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§Æ‡§ß‡•Å‡§∞ ‡§π‡•ã‡§Ç‡§ó‡•á‡•§\n‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø: ‡§∏‡§ø‡§∞‡§¶‡§∞‡•ç‡§¶ ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§π‡§®‡•Å‡§Æ‡§æ‡§® ‡§ö‡§æ‡§≤‡•Ä‡§∏‡§æ ‡§ï‡§æ ‡§™‡§æ‡§† ‡§ï‡§∞‡•á‡§Ç‡•§",
            'Vrishabh': "‡§Ü‡§ú ‡§Æ‡§® ‡§∂‡§æ‡§Ç‡§§ ‡§∞‡§π‡•á‡§ó‡§æ‡•§ ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∏‡§Æ‡§Ø ‡§¨‡•Ä‡§§‡•á‡§ó‡§æ‡•§\n\n‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï: ‡§ñ‡§∞‡•ç‡§ö‡•ã‡§Ç ‡§™‡§∞ ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§∞‡§ñ‡•á‡§Ç‡•§\n‡§™‡•ç‡§∞‡•á‡§Æ: ‡§®‡§è ‡§∞‡§ø‡§∂‡•ç‡§§‡•á ‡§ï‡•Ä ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§\n‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø: ‡§â‡§§‡•ç‡§§‡§Æ ‡§∞‡§π‡•á‡§ó‡§æ‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§ó‡§æ‡§Ø ‡§ï‡•ã ‡§π‡§∞‡•Ä ‡§ò‡§æ‡§∏ ‡§ñ‡§ø‡§≤‡§æ‡§è‡§Ç‡•§",
            // ... Add details for all 12 signs (Simulated for brevity in this block, but logic holds) ...
            'Mithun': "‡§µ‡§æ‡§£‡•Ä ‡§™‡§∞ ‡§∏‡§Ç‡§Ø‡§Æ ‡§∞‡§ñ‡•á‡§Ç‡•§ ‡§µ‡§æ‡§¶-‡§µ‡§ø‡§µ‡§æ‡§¶ ‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç‡•§\n\n‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï: ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§∞‡§π‡•á‡§ó‡§æ‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§ó‡§£‡•á‡§∂ ‡§ú‡•Ä ‡§ï‡•ã ‡§¶‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§ö‡§¢‡§º‡§æ‡§è‡§Ç‡•§",
            'Kark': "‡§ö‡§ø‡§Ç‡§§‡§æ ‡§Æ‡•Å‡§ï‡•ç‡§§ ‡§∞‡§π‡•á‡§Ç‡§ó‡•á‡•§ ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡•á ‡§Ø‡•ã‡§ó ‡§π‡•à‡§Ç‡•§\n\n‡§Ü‡§∞‡•ç‡§•‡§ø‡§ï: ‡§≤‡§æ‡§≠ ‡§π‡•ã‡§ó‡§æ‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§∂‡§ø‡§µ ‡§ú‡•Ä ‡§™‡§∞ ‡§ú‡§≤ ‡§ö‡§¢‡§º‡§æ‡§è‡§Ç‡•§",
            'Simha': "‡§®‡•á‡§§‡•É‡§§‡•ç‡§µ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§¨‡§¢‡§º‡•á‡§ó‡•Ä‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§ï‡•ã ‡§Ö‡§∞‡•ç‡§ò‡•ç‡§Ø ‡§¶‡•á‡§Ç‡•§",
            'Kanya': "‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§≤‡§æ‡§≠‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§Æ‡•Ç‡§Ç‡§ó ‡§¶‡§æ‡§≤ ‡§ï‡§æ ‡§¶‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§",
            'Tula': "‡§ï‡§≤‡§æ ‡§Æ‡•á‡§Ç ‡§∞‡•Å‡§ö‡§ø ‡§¨‡§¢‡§º‡•á‡§ó‡•Ä‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§á‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§",
            'Vrishchik': "‡§ó‡•Å‡§™‡•ç‡§§ ‡§∂‡§§‡•ç‡§∞‡•Å‡§ì‡§Ç ‡§∏‡•á ‡§∏‡§æ‡§µ‡§ß‡§æ‡§® ‡§∞‡§π‡•á‡§Ç‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§π‡§®‡•Å‡§Æ‡§æ‡§® ‡§ú‡•Ä ‡§ï‡•ã ‡§∏‡§ø‡§Ç‡§¶‡•Ç‡§∞ ‡§ö‡§¢‡§º‡§æ‡§è‡§Ç‡•§",
            'Dhanu': "‡§≠‡§æ‡§ó‡•ç‡§Ø ‡§∏‡§æ‡§• ‡§¶‡•á‡§ó‡§æ‡•§ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡§´‡§≤‡§§‡§æ‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§™‡•Ä‡§≤‡•Ä ‡§µ‡§∏‡•ç‡§§‡•Å‡§ì‡§Ç ‡§ï‡§æ ‡§¶‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§",
            'Makar': "‡§Æ‡•á‡§π‡§®‡§§ ‡§ï‡§æ ‡§´‡§≤ ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§∂‡§®‡§ø ‡§¶‡•á‡§µ ‡§ï‡•á ‡§∏‡§æ‡§Æ‡§®‡•á ‡§¶‡•Ä‡§™‡§ï ‡§ú‡§≤‡§æ‡§è‡§Ç‡•§",
            'Kumbh': "‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§∏‡•á ‡§Æ‡§¶‡§¶ ‡§Æ‡§ø‡§≤‡•á‡§ó‡•Ä‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§ó‡§∞‡•Ä‡§¨‡•ã‡§Ç ‡§ï‡•ã ‡§≠‡•ã‡§ú‡§® ‡§ï‡§∞‡§æ‡§è‡§Ç‡•§",
            'Meen': "‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§Æ‡§ø‡§≤‡•á‡§ó‡•Ä‡•§\n‡§â‡§™‡§æ‡§Ø: ‡§Æ‡§õ‡§≤‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§¶‡§æ‡§®‡§æ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§"
        };

        function showHoroscope(signKey) {
            // Mapping English/Hindi keys
            let key = signKey.split(' ')[0]; // Gets 'Mesh' from 'Mesh (Aries)'
            let text = horoscopeData[key] || "‡§Ü‡§ú ‡§ï‡§æ ‡§¶‡§ø‡§® ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§∞‡§π‡•á‡§ó‡§æ‡•§ ‡§ï‡§∞‡•ç‡§Æ ‡§™‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§∞‡§ñ‡•á‡§Ç‡•§";
            
            document.getElementById('horoscopeModal').style.display = 'flex';
            document.getElementById('modalTitle').innerText = "‡§¶‡•à‡§®‡§ø‡§ï ‡§∞‡§æ‡§∂‡§ø‡§´‡§≤: " + signKey;
            document.getElementById('modalContent').innerText = text;
        }

        // 4. CITY SEARCH (Extended)
        const cityDB = [
            {name:"Mumbai", lat:"19.07", long:"72.87"}, {name:"Delhi", lat:"28.70", long:"77.10"},
            {name:"Korba", lat:"22.35", long:"82.68"}, {name:"Palghar", lat:"19.69", long:"72.76"},
            {name:"Bilaspur", lat:"22.07", long:"82.14"}, {name:"Raipur", lat:"21.25", long:"81.62"},
            {name:"Varanasi", lat:"25.31", long:"82.97"}, {name:"Pune", lat:"18.52", long:"73.85"},
            {name:"Nagpur", lat:"21.14", long:"79.08"}, {name:"Jaipur", lat:"26.91", long:"75.78"},
            {name:"Lucknow", lat:"26.84", long:"80.94"}, {name:"Kanpur", lat:"26.44", long:"80.33"},
            {name:"Bhilai", lat:"21.19", long:"81.35"}, {name:"Durg", lat:"21.19", long:"81.28"},
            {name:"Rajnandgaon", lat:"21.10", long:"81.03"}, {name:"Ambikapur", lat:"23.12", long:"83.19"}
        ];

        function searchCity() {
            let input = document.getElementById('cityInput').value.toLowerCase();
            let box = document.getElementById('cityList');
            box.innerHTML = '';
            if(input.length > 0) {
                box.style.display = 'block';
                let filtered = cityDB.filter(c => c.name.toLowerCase().includes(input));
                filtered.forEach(c => {
                    let div = document.createElement('div'); div.classList.add('city-item'); div.innerText = c.name;
                    div.onclick = function() {
                        document.getElementById('cityInput').value = c.name;
                        box.style.display = 'none';
                    }; box.appendChild(div);
                });
                if(filtered.length===0) {
                    let div = document.createElement('div'); div.classList.add('city-item'); div.innerText = "Manual: "+input;
                    div.onclick = function() { box.style.display = 'none'; }; box.appendChild(div);
                }
            } else { box.style.display = 'none'; }
        }

        // 5. PDF DOWNLOAD
        function downloadPDF() {
            // Setup hidden template
            document.getElementById('pdfName').innerText = document.getElementById('name').value;
            document.getElementById('pdfPlace').innerText = document.getElementById('cityInput').value;
            
            const element = document.getElementById('printTemplate');
            element.style.position = 'static'; // Temporarily visible
            
            html2canvas(element).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF('p', 'mm', 'a4');
                const pdfWidth = doc.internal.pageSize.getWidth();
                const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
                
                doc.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                doc.save('KP_Kundli.pdf');
                
                element.style.position = 'absolute'; // Hide again
                element.style.top = '-9999px';
            });
        }

        function createWave() {
            const container = document.getElementById('waveContainer');
            // ... (Simple wave logic from previous code) ...
        }
        
        function generateReport() {
            document.getElementById('mainForm').style.display='none';
            document.getElementById('dashboardArea').style.display='block';
            document.getElementById('userNameDisplay').innerText = "‡§®‡§Æ‡§∏‡•ç‡§§‡•á, " + document.getElementById('name').value;
            document.getElementById('rashiDisplay').innerText = "‡§∞‡§æ‡§∂‡§ø: ‡§Æ‡•á‡§∑ (Based on Date)";
            document.getElementById('modulesArea').style.opacity = '1';
            document.getElementById('modulesArea').style.pointerEvents = 'all';
        }
    </script>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script>function googleTranslateElementInit() { new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element'); }</script>
</body>
</html>
